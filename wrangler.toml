# :schema node_modules/wrangler/config-schema.json
name = "email-routing-monitor"
main = "src/index.ts"
compatibility_date = "2024-12-19"

[triggers]
crons = [ "30 2 * * *" ] # Run daily at 10:30 AM (UTC+8 / Asia/Shanghai). Cron expression is in UTC.

[observability]
enabled = true

[vars]
ZONE_ID = "7193f0d358b5660b5e88906ff6713ea9"
TIMEZONE = "Asia/Shanghai"
RESEND_FROM = "EmailRoutingMonitor <onboarding@resend.dev>"
RESEND_TO = "muxiu1997@muxiu1997.com"

# Secrets required (configure via `wrangler secret put` or `.dev.vars`):
# CF_API_TOKEN - Cloudflare API token with Email Routing & Analytics read permissions
# RESEND_API_KEY - Resend API key for sending notifications
